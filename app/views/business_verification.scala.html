@(businessTypeForm: Form[forms.BusinessType], isAgent: Boolean, service: String, isSaAccount : Boolean, isOrgAccount: Boolean)(implicit request: Request[_], messages: Messages)
@import uk.gov.hmrc.play.views.html._
@import uk.gov.hmrc.play.views.html.helpers._
@import views.html.helpers._
@import utils.BCUtils
@import config.ApplicationConfig

@implicitFormInstance = @{ Some(businessTypeForm) }

@bcMain(title = if(isAgent) {Messages("bc.business-verification.agent.header")} else {Messages("bc.business-verification.user.header")}, service = Some(service)) {

  @bcErrorSummary(businessTypeForm, "bc.business-verification-error.general")

  @if(isAgent) {
    <p class="heading-sub" id="business-verification-agent-text"> @Messages("bc.business-verification.agent.text", service.toUpperCase) </p>
    <h1 class="heading-xlarge" id="business-verification-agent-header" aria-level="1" role="heading"> @Html(Messages("bc.business-verification.agent.header")) </h1>
  } else {
    <p class="heading-sub" id="business-verification-text"> @Messages("bc.business-verification.client.text", service.toUpperCase) </p>
    <h1 class="heading-xlarge" id="business-verification-header" aria-level="1" role="heading"> @Html(Messages("bc.business-verification.user.header")) </h1>
  }

  @form(action = controllers.routes.BusinessVerificationController.continue(service)) {

    <div class="form-group" id="businessType">

      <input type="hidden" name="isSaAccount" value="@{isSaAccount}">
      <input type="hidden" name="isOrgAccount" value="@{isOrgAccount}">

      @bcInputRadioGroup(
        businessTypeForm("businessType"),
        BCUtils.businessTypeMap(service, isAgent),
        '_labelClass -> "block-label",
        '_legend -> Messages("bc.business-verification.user.header"),
        '_legendClass -> "screen-reader-text",
        '_labelAfter -> true
      )

    </div>


  @if(service.toUpperCase == "ATED") {
    <details>
      <summary>
        <span id="not-listed" class="summary">
            @Messages("bc.business-verification.agent.reveal")
        </span>
      </summary>
    <div class="panel-indent">
      <p id="not-listed-text"> @Messages("bc.business-verification.agent.reveal-text") </p>
  </div>
  </details>
}

    <div class="form-group">
      <button class="button" id="submit" type="submit"> @Messages("bc.business-verification.submit") </button>
    </div>
  }

}
