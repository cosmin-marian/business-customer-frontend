@(service: String, isAgent: Boolean, businessDetails: models.ReviewDetails)(implicit request: Request[_])
@import uk.gov.hmrc.play.views.html._
@import uk.gov.hmrc.play.views.html.helpers._
@import utils._

@bcMain(title = Messages("bc.business-review.title", service), service = Some(service)) {


@if(isAgent){
<p class="heading-sub" id="bc.business-registration.text">@Messages("bc.business-registration.text.agent",
    service.toUpperCase)</p>
<h1 class="heading-xlarge" aria-level="1" role="heading">@Html(Messages("business-review.agent.title"))</h1>
<p class="lede" id="banner">@Messages("business-review.subscribe-banner", service.toUpperCase)</p>

}else{
<p class="heading-sub" id="bc.business-registration.text">@Messages("bc.business-registration.text.client",
    service.toUpperCase)</p>
<h1 class="heading-xlarge" aria-level="1" role="heading">@Html(Messages("business-review.user.title"))</h1>

}


<div class="form-group">

            <p class="heading-medium" id="business-name">@businessDetails.businessName</p>

            <ul id="business-address">

                    <li id="registered-address-line-1">@businessDetails.businessAddress.line_1</li>
                    <li id="registered-address-line-2">@businessDetails.businessAddress.line_2</li>
                    @businessDetails.businessAddress.line_3.map {line_3 =>
                    <li id="registered-address-line-3">@line_3</li>
                    }
                    @businessDetails.businessAddress.line_4.map {line_4 =>
                    <li id="registered-address-line-4">@line_4</li>
                    }
                    @businessDetails.businessAddress.postcode.map {postcode =>
                    <li id="registered-postcode">@postcode</li>
                    }
                    <li id="registered-country">@BCUtils.getSelectedCountry(businessDetails.businessAddress.country)</li>
            </ul>


    @if(isAgent){
<details>
    <summary><span id="wrong-account-title" class="summary">
    @if(businessDetails.directMatch){
    @Messages("business-review.invalid-business.header")
    }else {
    @Messages("business-review.invalid-address.header")
    }
    </span></summary>

    <div class="panel-indent">
        <p id="wrong-account-text">
            @if(businessDetails.directMatch){
            @Messages("business-review.invalid-business.text")
            <h4 class="heading-small">@Messages("business-review.invalid-business.address-header")</h4>
            }else {
            @Messages("business-review.invalid-address.text-agent", service)
            }
        <p>@Html(Messages("business-review.registered-with-companies-house.text"))</p>
        <p>@Html(Messages("business-review.sole-trader.text"))</p>
    </div>
</details>

    }else{

    <details>
        <summary><span id="wrong-account-title" class="summary">
    @if(businessDetails.directMatch){
    @Messages("business-review.invalid-business.header")
    }else {
    @Messages("business-review.invalid-address.header")
    }
    </span></summary>

        <div class="panel-indent">
            <p id="wrong-account-text">
                @if(businessDetails.directMatch){
                @Messages("business-review.invalid-business.text")
            <h4 class="heading-small">@Messages("business-review.invalid-business.address-header")</h4>
            }else {
            @Messages("business-review.invalid-address.text",service.toUpperCase)
            }
            <ul class="list list-bullet">
            <li>
                @Html(Messages("business-review.registered-with-companies-house.text"))
            </li>
            <li>
                @Html(Messages("business-review.sole-trader.text"))
            </li>
            </ul>
        </div>
    </details>
    }

</div>

<div class="form-group">
    @form(action = controllers.routes.ReviewDetailsController.continue(service)) {
        <button class="button" id="submit" type="submit" @if(isAgent){onclick="ga('send', 'event', 'Agent - registration - end', 'button clicked')"}>@Messages("business-review.registration-button", service.toUpperCase)</button>
    }
</div>



}
