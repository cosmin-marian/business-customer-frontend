@(service: String, isAgent: Boolean, businessDetails: models.ReviewDetails, directMatch: Boolean)(implicit request: Request[_])
@import uk.gov.hmrc.play.views.html._
@import uk.gov.hmrc.play.views.html.helpers._
@import utils._

@bcMain(title = Messages("bc.business-review.title", service), service = Some(service)) {

<p class="heading-sub" id="bc.business-registration.text">@Messages("bc.business-registration.text",
    service.toUpperCase)</p>
@if(isAgent){
<h1 class="heading-xlarge" aria-level="1" role="heading">@Html(Messages("business-review.agent.title"))</h1>
<p class="lede" id="banner">@Messages("business-review.subscribe-banner", service.toUpperCase)</p>

}else{
<h1 class="heading-xlarge" aria-level="1" role="heading">@Html(Messages("business-review.user.title"))</h1>
<p class="lede" id="banner2">@Messages("business-review.subscribe-banner2", service.toUpperCase)</p>

}


<div class="form-group">

            <h2 id="business-name-label">@Messages("business-review.name")</h2>
            <p id="business-name">@businessDetails.businessName</p>


            <h2 id="business-address-label">@Messages("business-review.address")</h2>
            <ul id="business-address">

                    <li id="registered-address-line-1">@businessDetails.businessAddress.line_1</li>
                    <li id="registered-address-line-2">@businessDetails.businessAddress.line_2</li>
                    @businessDetails.businessAddress.line_3.map {line_3 =>
                    <li id="registered-address-line-3">@line_3</li>
                    }
                    @businessDetails.businessAddress.line_4.map {line_4 =>
                    <li id="registered-address-line-4">@line_4</li>
                    }
                    @businessDetails.businessAddress.postcode.map {postcode =>
                    <li id="registered-postcode">@postcode</li>
                    }
                    <li id="registered-country">@BCUtils.getSelectedCountry(businessDetails.businessAddress.country)</li>
            </ul>



<details>
    <summary><span id="wrong-account-title" class="summary">
    @if(directMatch){
    @Messages("business-review.invalid-business.header")
    }else {
    @Messages("business-review.invalid-address.header")
    }
    </span></summary>

    <div class="panel-indent">
        <p id="wrong-account-text">
            @if(directMatch){
            @Messages("business-review.invalid-business.text")
        <h4 class="heading-small">Not the right address</h4>
        <p> If you registered with Companies House you need to inform
            <a href="https://www.gov.uk/file-changes-to-a-company-with-companies-house" target="_blank">Companies House</a>.</p>
        If you are a Sole Trader, you need to inform
        <a href="https://www.gov.uk/tell-hmrc-change-of-details/change-name-or-address" target="_blank">HMRC</a>.
        </p>

            }else {
            @Messages("business-review.invalid-address.text", service)


        <p> If you registered with Companies House you need to inform
            <a href="https://www.gov.uk/file-changes-to-a-company-with-companies-house" target="_blank">Companies House</a>.</p>
        If you are a Sole Trader, you need to inform
        <a href="https://www.gov.uk/tell-hmrc-change-of-details/change-name-or-address" target="_blank">HMRC</a>.
        </p>
            }


    </div>
</details>

</div>

<div class="form-group">
    @form(action = controllers.routes.ReviewDetailsController.continue(service)) {
        <button class="button" id="submit" type="submit" @if(isAgent){onclick="ga('send', 'event', 'Agent - registration - end', 'button clicked')"}>@Messages("business-review.registration-button", service.toUpperCase)</button>
    }
</div>



}
