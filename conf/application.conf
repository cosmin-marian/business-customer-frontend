include "common.conf"

appName = "business-customer-frontend"

play.modules.enabled += "com.kenshoo.play.metrics.PlayModule"
play.http.requestHandler = "play.api.http.GlobalSettingsHttpRequestHandler"


# The application languages
# ~~~~~
application.langs = "en"


# Global object class
# ~~~~~
# Define the Global object class for this application.
# Default to Global in the root package.
application.global = config.ApplicationGlobal

defaultTimeoutSeconds = 1800 // maximum value that can be used for this flag is 1800
timeoutCountdown = 180 //How long the timeout countdown should appear before the user is logged out

application.router = prod.Routes

play.filters.headers.contentSecurityPolicy = "default-src 'self' 'unsafe-inline' localhost:9032 www.google-analytics.com data:"

controllers {
  controllers.AssetsController = {
    needsAuditing = false
  }
}

metrics {
  name = ${appName}
  rateUnit = SECONDS
  durationUnit = SECONDS
  showSamples = true
  jvm = true
  enabled = true
}

assets {
  version = "2.230.0"
  version = ${?ASSETS_FRONTEND_VERSION}
  url = "http://localhost:9032/assets/"
}

Dev {
  features {
    back_links = false
  }

  auditing {
    enabled = true
    traceRequests = true
    consumer {
      baseUri {
        host = localhost
        port = 8100
      }
    }
  }
}
Prod {
  features {
    back_links = false
  }
  auditing {
    enabled = true
    traceRequests = true
    consumer {
      baseUri {
        host = datastream.service
        port = 80
      }
    }
  }
}

Test {
  features {
    back_links = true
  }
  auditing {
    enabled = false
    traceRequests = false
    consumer {
      baseUri {
        host = localhost
        port = 8100
      }
    }
  }
}

Dev.microservice.services.cachable {
  session-cache {
    host = localhost
    port = 8400
    domain = keystore
  }

}

Test.microservice.services.cachable {
  session-cache {
    host = localhost
    port = 8400
    domain = keystore
  }

}

Prod.microservice.services.cachable {
  session-cache {
    host = key-store.service
    port = 80
    domain = keystore
  }
}

govuk-tax {

  Dev {
    cancelRedirectUrl: "https://www.gov.uk/"

    metrics {
      graphite {
        host = graphite
        port = 2003
        prefix = play.${appName}.
        enabled = true
      }
    }

    services {

      names = [ated, amls, awrs]

      contact-frontend {
        host = localhost
        port = 9250
      }
      auth {
        host = localhost
        port = 8500
        login-path = "sign-in"
        login-callback {
          url = "http://localhost:9923/business-customer"
        }
        company-auth {
          host = "http://localhost:9025"
        }
      }
      business-matching {
        host = localhost
        port = 9925
      }
      business-customer {
        host = localhost
        port = 9924
      }
      ated {
        serviceRedirectUrl: "http://localhost:9933/ated-subscription/registered-business-address"
        agentEnrolmentService: "HMRC-AGENT-AGENT"
        agentConfirmationUrl: "http://localhost:9933/ated-subscription/agent-confirmation"
        serviceStartUrl: "http://localhost:9916/ated/home"
        serviceReturnUrl: "http://localhost:9933/ated-subscription/appoint-agent"
        serviceAgentReturnUrl: "http://localhost:9933/ated-subscription/start-agent-subscription"
        accountSummaryUrl: "http://localhost:9916/ated/home"
        logoutUrl: "http://localhost:9916/ated/logout"
      }
      agent-client-mandate-frontend {
        agentEnterEmailUrl: "http://localhost:9959/agent-client-mandate/collect-agent-email/ATED"
        backLink: "http://localhost:9959/mandate/agent/client-permission"
      }
      awrs {
        serviceRedirectUrl: "http://localhost:9913/alcohol-wholesale-scheme"
      }
      amls {
        serviceRedirectUrl: "http://localhost:9222/anti-money-laundering"
      }
      government-gateway {
        host = localhost
        port = 8570
      }
      investment-tax-relief {
        serviceRedirectUrl: "http://localhost:9637/investment-tax-relief-subscription/confirm-correspondence-address"
      }
      capital-gains-tax {
        serviceRedirectUrl: "http://localhost:9771/capital-gains-tax/subscription/company/correspondence-address-confirm"
      }
      capital-gains-tax-agents {
        serviceRedirectUrl: "http://localhost:9771/capital-gains-tax/subscription/agent/registered/subscribe"
      }
    }

    delegated-service-sign-out-url {
      ated = "http://localhost:9916/ated/logout"
    }

    contact-frontend {
      host = "http://localhost:9250"
    }

    logout.url = "http://localhost:9025/gg/sign-out"
  }

  Prod {
    cancelRedirectUrl: "https://www.gov.uk/"

    metrics {
      graphite {
        host = graphite
        port = 2003
        prefix = play.${appName}.
        enabled = true
      }
    }

    services {

      names = [ated, amls, awrs]

      contact-frontend {
        host = contact-frontend.service
        port = 80
      }
      auth {
        host = auth.service
        port = 80
        login_path = "sign-in"
      }
      business-matching {
        host = business-matching.service
        port = 80
      }
      business-customer {
        host = business-customer.service
        port = 80
      }
      ated {
        serviceRedirectUrl: "/ated-subscription/registered-business-address"
        agentEnrolmentService: "HMRC-AGENT-AGENT"
        agentConfirmationUrl: "/ated-subscription/agent-confirmation"
        serviceStartUrl: "/ated/home"
        serviceReturnUrl: "/ated-subscription/appoint-agent"
        serviceAgentReturnUrl: "/ated-subscription/start-agent-subscription"
        logoutUrl: "/ated/logout"
      }
      awrs {
        serviceRedirectUrl: "/alcohol-wholesale-scheme"
      }
      amls {
        serviceRedirectUrl: "/anti-money-laundering"
      }
      ated-frontend {
        atedRedirectUrl: "http://localhost:9916/ated/summary"
      }
      investment-tax-relief {
        serviceRedirectUrl: "/investment-tax-relief-subscription/confirm-correspondence-address"
      }
      capital-gains-tax {
        serviceRedirectUrl: "/capital-gains-tax/subscription/company/correspondence-address-confirm"
      }
      capital-gains-tax-agents {
        serviceRedirectUrl: "/capital-gains-tax/subscription/agent/registered/subscribe"
      }
      agent-client-mandate-frontend {
        backLink: "/mandate/agent/client-permission"
      }

      government-gateway {
        host = government-gateway.service
        port = 80
      }

    }
    auth {
      host = auth.service
      port = 80
      login_path = "sign-in"
    }

    delegated-service-sign-out-url {
      ated = "/ated/logout"
    }

    logout.url = "/gg/sign-out"
  }

  Test {
    metrics {
      graphite {
        host = graphite
        port = 2003
        prefix = play.${appName}.
        enabled = true
      }
    }

    services {

      names = [ated, amls, awrs]

      contact-frontend {
        host = "localhost"
        port = 9250
      }
      auth {
        host = localhost
        port = 8500
        login_path = "sign-in"
        login-callback {
          url = "http://localhost:9923/business-customer"
        }
        company-auth {
          host = "http://localhost:9025"
        }
      }
      business-matching {
        host = localhost
        port = 9925
      }
      business-customer {
        host = localhost
        port = 9924
      }
      ated {
        serviceRedirectUrl: "http://localhost:9933/ated-subscription/registered-business-address"
        agentEnrolmentService: "HMRC-AGENT-AGENT"
        agentConfirmationUrl: "http://localhost:9933/ated-subscription/agent-confirmation"
        serviceStartUrl: "http://localhost:9916/ated/home"
        serviceReturnUrl: "http://localhost:9933/ated-subscription/appoint-agent"
        serviceAgentReturnUrl: "http://localhost:9933/ated-subscription/start-agent-subscription"
        logoutUrl: "http://localhost:9916/ated/logout"
      }
      agent-client-mandate-frontend {
        agentEnterEmailUrl: "http://localhost:9959/agent-client-mandate/collect-agent-email/ATED"
      }
      awrs {
        serviceRedirectUrl: "http://localhost:9913/alcohol-wholesale-scheme"
      }
      amls {
        serviceRedirectUrl: "http://localhost:9222/anti-money-laundering"
      }
      capital-gains-tax {
        serviceRedirectUrl: "http://localhost:9771/capital-gains-tax/subscription/company/correspondence-address-confirm"
      }
      capital-gains-tax-agents {
        serviceRedirectUrl: "http://localhost:9771/capital-gains-tax/subscription/agent/registered/subscribe"
      }
      ated-frontend {
        atedRedirectUrl: "http://localhost:9916/ated/summary"
      }
      agent-client-mandate-frontend {
        backLink: "http://localhost:9959/mandate/agent/client-permission"
      }

      government-gateway {
        host = localhost
        port = 9926
      }
    }
    delegated-service-sign-out-url {
      ated = "http://localhost:9916/ated/logout"
    }

    logout.url = "http://localhost:9025/gg/sign-out"

  }


  Test.microservice.services {
    business-matching {
      host = localhost
      port = 9925
    }
    business-customer {
      host = localhost
      port = 9924
    }

    ated-frontend {
      atedRedirectUrl: "http://localhost:9916/ated/summary"
    }
  }
}

